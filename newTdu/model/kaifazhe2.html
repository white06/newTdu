<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Title</title>
<link rel="stylesheet" href="layui/css/layui.css">
<link href="Css.css" rel="stylesheet" type="text/css" />

<!-- <link rel="stylesheet" href="MyCss.css" />
<link rel="stylesheet" href="base.css" />
<link rel="stylesheet" href="page.css" /> -->


<script src="layui/layui.js"></script>
<script src="jquery-1.8.3.min.js"></script>
<!--<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>-->
<script src="jquery.kkPages.js"></script>


<!-- 下面是easyui的环境 -->
<!-- <link rel="stylesheet" type="text/css"
	href="jquery-easyui-1.7.0/themes/default/easyui.css">
<link rel="stylesheet" type="text/css"
	href="jquery-easyui-1.7.0/themes/icon.css">
<link rel="stylesheet" type="text/css"
	href="jquery-easyui-1.7.0/demo/demo.css">
<script type="text/javascript" src="jquery-easyui-1.7.0/jquery.min.js"></script>
<script type="text/javascript"
	src="jquery-easyui-1.7.0/jquery.easyui.min.js"></script>
<script type="text/javascript"
	src="jquery-easyui-1.7.0/locale/easyui-lang-zh_CN.js"></script> -->

<style>
.item {
	margin: 40px 20px;
}

hr {
	margin-bottom: 0px;
}

.itemP {
	margin-top: 10px;
}

.item P {
	padding-left: 10px;
}
</style>
<script type="text/javascript">
var g_obj_CPP;
function SaveCppObject(obj) {
	////console.log("新增"+obj)
	//alert("调用SaveCppObject");
	//obj["FUNCTION_A"](1234);
	g_obj_CPP = obj;
}
function SaveCppObject2(obj2) {
	//alert("model ID" + obj2)
	g_obj_CPP["FUNCTION_SetModelID"](obj2);
}
</script>
<script type="text/javascript">
	var userId;
	$(function() {
		
		$(".item").click(function () {
		    $(this).siblings().css("border","").end()
		           .css("border","'border:3px solid #099CA8'");
		}); 
		$(".item").css("border", "1px solid #DCDCDC");
		
		
		var str = GetRequest();
		eval(str)
		$("#modelOrViewId").val(str.contactKey)
		$("#type").val(str.type)
		userId = str.userID
		showModelNav();
		showViewNav();
		$("input[name=userId]").val(userId);
		if (str.type == 1) {
			showModel(str.contactKey, str.userID)
		} else {
			showView(str.contactKey, str.userID)
		}
		$(".item").click(function () {
            var css = $(".item").attr("style");
            $(".item").css("border", "1px solid #DCDCDC");
            if (css.indexOf("border: 1px solid #DCDCDC")>=0)
                $(this).css("border", "3px solid #099CA8");
             else
                $(this).css("border", "3px solid #099CA8"); 
        }); 

	/* 
		alert(GetQueryString("contactKey"));
		alert(GetQueryString("type"));  */
	})

	function GetRequest() {
		var url = location.search; //获取url中"?"符后的字串  
		var theRequest = new Object();
		if (url.indexOf("?") != -1) {
			var str = url.substr(1);
			strs = str.split("&");
			for (var i = 0; i < strs.length; i++) {
				theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
			}
		}
		return theRequest;
	}


	function showModelNav() {
		$.ajax({
			url : "../../tdu-base/ModelController/getModelContacts.action",
			data : {},
			type : "post",
			async : false,
			success : function(data) {
				console.log(data)
				if (data.length > 0) {
					var subhtml = '';
					for (var i = 0; i < data.length; i++) {

						subhtml += '<dd><a href="javascript:void(0);" onclick="showModel(' + "'" + data[i].id + "'" + ',' + "'" + userId + "'" + ')">' + data[i].name + '</a>';

						subhtml += "</dd>";

					}
					$("#model").html("");
					console.log(subhtml);
					$("#model").html(subhtml);
				/* if(majorId!=null){
					$("#subject").val(majorId);
					} */
				} else {
					//$("#view").remove();
				}
			}
		});
	}

	function showViewNav() {
		$.ajax({
			url : "../../tdu-base/ModelController/getModelContacts2.action",
			data : {},
			type : "post",
			async : false,
			success : function(data) {
				console.log(data)
				if (data.length > 0) {
					var subhtml = '';
					for (var i = 0; i < data.length; i++) {

						subhtml += '<dd><a href="javascript:void(0);" onclick="showView(' + "'" + data[i].id + "'" + ',' + "'" + userId + "'" + ')">' + data[i].name + '</a>';

						subhtml += "</dd>";

					}
					$("#model").html("");
					console.log(subhtml);
					$("#model").html(subhtml);
				/* if(majorId!=null){
					$("#subject").val(majorId);
					} */
				} else {
					//$("#fatherView").remove("#view");
					$("#view").remove();
					$(document).on("click", "#addOnclick", function() {
						document.getElementById("addNew").style.display = "none";
						document.getElementById("showContent").style.display = "block";
						document.getElementById("updateContent").style.display = "none";
						var viewId = '0af7206e-30ae-4142-9902-9bbe30eef886'
						$("#modelOrViewId").val(viewId)
						$("#type").val("场景")
						$("input[name=modelOrView]").val($("#modelOrViewId").val());
						$("input[name=type]").val($("#type").val())

						$.ajax({
							url : "../../tdu-base/ModelController/getModelListMapper2.action",
							data : {
								Id : viewId,
								userId : userId
							},
							type : "post",
							async : false,
							success : function(data) {
								var userName = ""
								if (data.length != 0) {
									$.ajax({
										url : "../../tdu-base/ModelController/getUserName.action",
										data : {
											Id : data[0].userKey,
											userId : userId
										},
										type : "post",
										async : false,
										success : function(data) {
											console.log(data)
											console.log(data.name)
											userName = data.name
										}
									});
								}
								if (data.length == 0) {
									//alert("无内容")
									$("#showModel").html("");
									var subhtml = '<div class="item" style="display: inline-block;width: auto;height: auto;position: relative;top: 0rem">'

										+ '<img  onclick="xinzeng()" src="image/000.png" height="203" width="284"/></div>';

								}
								console.log(data)

								if (data.length > 0) {
									var subhtml = '<div class="item" style="display: inline-block;width: auto;height: auto;position: relative;top: -5.5rem">'

										+ '<img  onclick="xinzeng()" src="image/000.png" height="203" width="284"/></div>';

									for (var i = 0; i < data.length; i++) {

											if (data[i].photoName == null) {
												subhtml += '<div class="item"  style="display: inline-block;width: auto;height: auto;"><div>'
													+ '<img src="http://192.168.0.50:8080/file/test.png" height="131" width="289"/></div>'
													+ '<p class="itemP" style="color: #868A85">' + data[i].name + '</p>'
													+ '<div style="position: relative">'
													+ ' <span style="position: absolute;top: 10%;left: 74%" onclick="SaveCppObject2(' + "'" + data[i].id + "'" + ')"><button class="layui-btn layui-btn-xs">提交</button></span>'
													+ '<span style="position: absolute;top: 5%;left: 88%" onclick="deleteContent(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-delete" style="font-size: 22px"></i></span><p style="line-height: 30px;height: 30px;color: #868A85;">' + userName + '</p></div></div>';
											} else {
												subhtml += '<div class="item"  style="display: inline-block;width: auto;height: auto;"><div>'
													+ '<img src="http://192.168.0.50:8080/file/Scene/' + data[i].userKey + '/' + data[i].id + '/' + data[i].photoName + '" height="131" width="289"/></div>'
													+ '<p class="itemP" style="color: #868A85">' + data[i].name + '</p>'
													+ '<div style="position: relative">'
													+ ' <span style="position: absolute;top: 10%;left: 74%" onclick="SaveCppObject2(' + "'" + data[i].id + "'" + ')"><button class="layui-btn layui-btn-xs">提交</button></span>'
													+ '<span style="position: absolute;top: 5%;left: 88%" onclick="deleteContent(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-delete" style="font-size: 22px"></i></span><p style="line-height: 30px;height: 30px;color: #868A85;">' + userName + '</p></div></div>';
											}

											/* subhtml += '<div class="item" style="display: inline-block;width: auto;height: auto;border: 1px solid #DCDCDC"><div>'
												+ '<img src="http://localhost:8080/file/Scene/' + data[i].userKey + '/' + data[i].id + '/' + data[i].photoName + '" height="131" width="289"/></div>'
												+ '<p class="itemP" style="color: #868A85">' + data[i].name + '</p>'
												+ '<div style="position: relative">'
												+ ' <span style="position: absolute;top: 0%;left: 78%" onclick="updateModelOrView(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-list" style="font-size: 22px"></i>  </span>'
												+ '<span style="position: absolute;top: 0%;left: 87%" onclick="deleteContent(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-delete" style="font-size: 22px"></i></span><p style="line-height: 30px;height: 30px;color: #868A85;">' + userName + '</p></div></div>';
 */
											}
									subhtml += '<div class="clear"></div></div>';
								/* if(majorId!=null){
									$("#subject").val(majorId);
									} 
								}  */
								}
								$("#showModel").html("");
								console.log(subhtml);
								$("#showModel").html(subhtml);
	
								$(".item").css("border", "1px solid #DCDCDC");
								
								$('.pagelist').kkPages({
									PagesClass : '.item', //需要分页的元素
									PagesMth : 8, //每页显示个数
									PagesNavMth : 3 //显示导航个数

								});
							}
						});



					})

				}
			}
		});
	}

	function showModel(modelId, userId) {
		$("#modelOrViewId").val(modelId)
		$("#type").val("模型")
		$("input[name=modelOrView]").val($("#modelOrViewId").val());
		$("input[name=type]").val($("#type").val())

		document.getElementById("addNew").style.display = "none";
		document.getElementById("showContent").style.display = "block";
		document.getElementById("updateContent").style.display = "none";
		$.ajax({
			url : "../../tdu-base/ModelController/getModelListMapper.action",
			data : {
				Id : modelId,
				userId : userId
			},
			type : "post",
			async : false,
			success : function(data) {
				var userName = ""
				if (data.length != 0) {
					$.ajax({
						url : "../../tdu-base/ModelController/getUserName.action",
						data : {
							Id : data[0].userKey
						},
						type : "post",
						async : false,
						success : function(data) {
							console.log(data)
							console.log(data.name)
							userName = data.name
						}
					});
				}
				if (data.length == 0) {
					//alert("无内容")
					$("#showModel").html("");
					var subhtml = '<div class="item" style="display: inline-block;width: auto;height: auto;position: relative;top: 0rem">'

						+ '<img  onclick="xinzeng()" src="image/000.png" height="203" width="284"/></div>';

				}
				console.log(data)

				if (data.length > 0) {
					var subhtml = '<div class="item" style="display: inline-block;width: auto;height: auto;position: relative;top: -5.5rem">'

						+ '<img  onclick="xinzeng()" src="image/000.png" height="203" width="284"/></div>';

					for (var i = 0; i < data.length; i++) {
						if(data[i].photoName==null){
							subhtml += '<div class="item"  style="display: inline-block;width: auto;height: auto;"><div>'
								+ '<img src="http://192.168.0.50:8080/file/test.png" height="131" width="289"/></div>'
								+ '<p class="itemP" style="color: #868A85">' + data[i].name + '</p>'
								+ '<div style="position: relative">'
								+ ' <span style="position: absolute;top: 10%;left: 74%" onclick="SaveCppObject2(' + "'" + data[i].id + "'" + ')"><button class="layui-btn layui-btn-xs">提交</button></span>'
								+ '<span style="position: absolute;top: 5%;left: 88%" onclick="deleteContent(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-delete" style="font-size: 22px"></i></span><p style="line-height: 30px;height: 30px;color: #868A85;">' + userName + '</p></div></div>';
						}else{
							subhtml += '<div class="item"  style="display: inline-block;width: auto;height: auto;"><div>'
								+ '<img src="http://192.168.0.50:8080/file/Model/' + data[i].userKey + '/' + data[i].id + '/' + data[i].photoName + '" height="131" width="289"/></div>'
								+ '<p class="itemP" style="color: #868A85">' + data[i].name + '</p>'
								+ '<div style="position: relative">'
								+ ' <span style="position: absolute;top: 10%;left: 74%" onclick="SaveCppObject2(' + "'" + data[i].id + "'" + ')"><button class="layui-btn layui-btn-xs">提交</button></span>'
								+ '<span style="position: absolute;top: 5%;left: 88%" onclick="deleteContent(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-delete" style="font-size: 22px"></i></span><p style="line-height: 30px;height: 30px;color: #868A85;">' + userName + '</p></div></div>';
						}
						
						/* subhtml += '<div class="item" style="display: inline-block;width: auto;height: auto;border: 1px solid #DCDCDC"><div>'
							+ '<img src="http://localhost:8080/file/Model/' + data[i].userKey + '/' + data[i].id + '/' + data[i].photoName + '" height="131" width="289"/></div>'
							+ '<p class="itemP" style="color: #868A85">' + data[i].name + '</p>'
							+ '<div style="position: relative">'
							+ ' <span style="position: absolute;top: 0%;left: 78%" onclick="updateModelOrView(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-list" style="font-size: 22px"></i>  </span>'
							+ '<span style="position: absolute;top: 0%;left: 87%" onclick="deleteContent(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-delete" style="font-size: 22px"></i></span><p style="line-height: 30px;height: 30px;color: #868A85;">' + userName + '</p></div></div>';
 */
					}
					subhtml += '<div class="clear"></div></div>';
				/* if(majorId!=null){
					$("#subject").val(majorId);
					} 
				}  */
				}

				$("#showModel").html("");
				console.log(subhtml);
				$("#showModel").html(subhtml);

				$(".item").css("border", "1px solid #DCDCDC");
	
				$('.pagelist').kkPages({
					PagesClass : '.item', //需要分页的元素
					PagesMth : 8, //每页显示个数
					PagesNavMth : 3 //显示导航个数

				});
			}
		});
	}
	function showView(viewId, userId) {
		$("#modelOrViewId").val(viewId)
		$("#type").val("场景")
		$("input[name=modelOrView]").val($("#modelOrViewId").val());
		$("input[name=type]").val($("#type").val())


		document.getElementById("addNew").style.display = "none";
		document.getElementById("showContent").style.display = "block";
		document.getElementById("updateContent").style.display = "none";
		$.ajax({
			url : "../../tdu-base/ModelController/getModelListMapper2.action",
			data : {
				Id : viewId,
				userId : userId
			},
			type : "post",
			async : false,
			success : function(data) {
				var userName = ""
				if (data.length != 0) {
					$.ajax({
						url : "../../tdu-base/ModelController/getUserName.action",
						data : {
							Id : data[0].userKey
						},
						type : "post",
						async : false,
						success : function(data) {
							console.log(data)
							console.log(data.name)
							userName = data.name
						}
					});
				}
				console.log(data)
				if (data.length > 0) {

					var subhtml = '<div class="item" style="display: inline-block;width: auto;height: auto;position: relative;top: -5.5rem">'

						+ '<img  onclick="xinzeng()" src="image/000.png" height="203" width="284"/></div>';
					for (var i = 0; i < data.length; i++) {

						if(data[i].photoName==null){
							subhtml += '<div class="item"  style="display: inline-block;width: auto;height: auto;"><div>'
								+ '<img src="http://192.168.0.50:8080/file/test.png" height="131" width="289"/></div>'
								+ '<p class="itemP" style="color: #868A85">' + data[i].name + '</p>'
								+ '<div style="position: relative">'
								+ ' <span style="position: absolute;top: 10%;left: 74%" onclick="SaveCppObject2(' + "'" + data[i].id + "'" + ')"><button class="layui-btn layui-btn-xs">提交</button></span>'
								+ '<span style="position: absolute;top: 5%;left: 88%" onclick="deleteContent(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-delete" style="font-size: 22px"></i></span><p style="line-height: 30px;height: 30px;color: #868A85;">' + userName + '</p></div></div>';
						}else{
							subhtml += '<div class="item"  style="display: inline-block;width: auto;height: auto;"><div>'
								+ '<img src="http://192.168.0.50:8080/file/Scene/' + data[i].userKey + '/' + data[i].id + '/' + data[i].photoName + '" height="131" width="289"/></div>'
								+ '<p class="itemP" style="color: #868A85">' + data[i].name + '</p>'
								+ '<div style="position: relative">'
								+ ' <span style="position: absolute;top: 10%;left: 74%" onclick="SaveCppObject2(' + "'" + data[i].id + "'" + ')"><button class="layui-btn layui-btn-xs">提交</button></span>'
								+ '<span style="position: absolute;top: 5%;left: 88%" onclick="deleteContent(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-delete" style="font-size: 22px"></i></span><p style="line-height: 30px;height: 30px;color: #868A85;">' + userName + '</p></div></div>';
						}
							
						/* subhtml += '<div class="item" style="display: inline-block;width: auto;height: auto;border: 1px solid #DCDCDC"><div>'
							+ '<img src="http://localhost:8080/file/Scene/' + data[i].userKey + '/' + data[i].id + '/' + data[i].photoName + '" height="131" width="289"/></div>'
							+ '<p class="itemP" style="color: #868A85">' + data[i].name + '</p>'
							+ '<div style="position: relative">'
							+ ' <span style="position: absolute;top: 0%;left: 78%" onclick="updateModelOrView(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-list" style="font-size: 22px"></i>  </span>'
							+ '<span style="position: absolute;top: 0%;left: 87%" onclick="deleteContent(' + "'" + data[i].id + "'" + ')"><i class="layui-icon layui-icon-delete" style="font-size: 22px"></i></span><p style="line-height: 30px;height: 30px;color: #868A85;">' + userName + '</p></div></div>';
 */
					}
					subhtml += '<div class="clear"></div></div>';
					$("#showModel").html("");
					console.log(subhtml);
					$("#showModel").html(subhtml);
					
					$(".item").css("border", "1px solid #DCDCDC");
					
					$('.pagelist').kkPages({
						PagesClass : '.item', //需要分页的元素
						PagesMth : 8, //每页显示个数
						PagesNavMth : 3 //显示导航个数

					});
				/* if(majorId!=null){
					$("#subject").val(majorId);
					} 
				}  */
				}
			}
		});
	}
</script>
</head>
<body>
	<thead>
		<ul class="layui-nav">
			<li class="layui-nav-item"><a href="javascript:;">模型</a>
				<dl id="model" class="layui-nav-child">
					<dd>
						<a href="">选项1</a>
					</dd>
					<dd>
						<a href="">选项2</a>
					</dd>
					<dd>
						<a href="">选项3</a>
					</dd>
				</dl></li>
			<li id="fatherView" class="layui-nav-item"><a id="addOnclick"
				href="javascript:; ">场景</a>
				<dl id="view" class="layui-nav-child">
					<!-- <dd><a href="">移动模块</a></dd>
            <dd><a href="">后台模版</a></dd>
            <dd class="layui-this"><a href="">选中项</a></dd>
            <dd><a href="">电商平台</a></dd> -->
				</dl></li>
		</ul>
	</thead>

	<tbody>
		<div id="showContent" class="wrap" style="margin: 50px">
			<hr />
			<div id="showModel" class="pagelist" style="position: relative">
				<div class="item"
					style="display: inline-block;width: auto;height: auto;position: relative;top: -5.5rem">

					<img onclick="xinzeng()" src="image/000.png" height="203"
						width="284" />
				</div>


				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #DCDCDC">
					<div>
						<img
							src="tdu.tduvr.club/Data/Model/4d272f66-9dac-4b87-a2a1-22b6e5910779/4d272f66-9dac-4b87-a2a1-22b6e5910779/bg.png"
							height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"
							onclick="updateModelOrView()"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"
							onclick="deleteContent()"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #DCDCDC">
					<div>
						<img
							src="http://localhost:8080/file/Model/4d272f66-9dac-4b87-a2a1-22b6e5910779/4d272f66-9dac-4b87-a2a1-22b6e5910779/bg.png"
							height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #DCDCDC">
					<div>
						<img src="image/002.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #DCDCDC">
					<div>
						<img src="image/003.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #DCDCDC">
					<div>
						<img src="image/004.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #DCDCDC">
					<div>
						<img src="image/005.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>

				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #DCDCDC">
					<div>
						<img src="image/001.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #DCDCDC">
					<div>
						<img src="image/001.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/002.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/003.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/004.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/005.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>


				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/001.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/001.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/002.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/003.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/004.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/005.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>



				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/001.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/001.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/002.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/003.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/004.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>
				<div class="item"
					style="display: inline-block;width: auto;height: auto;border: 1px solid #F0F0EF">
					<div>
						<img src="image/005.png" height="131" width="289" />
						<!--<img src="021.png" height="150" width="300"/>-->
					</div>
					<p class="itemP" style="color: #868A85">西晋洛阳城全景</p>
					<hr>
					<div style="position: relative">
						<span style="position: absolute;top: 0%;left: 78%"><i
							class="layui-icon layui-icon-list" style="font-size: 22px"></i> </span>
						<span style="position: absolute;top: 0%;left: 87%"><i
							class="layui-icon layui-icon-delete" style="font-size: 22px"></i>
						</span>
						<p style="line-height: 30px;height: 30px;color: #868A85;">张三</p>
					</div>
				</div>

				<div class="clear"></div>
			</div>
			<hr>
		</div>
	</tbody>

	<input type="hidden" id="modelOrViewId" />
	<input type="hidden" id="type" />

	<div id="addNew" style="" class="pt40 yahei">
		<blockquote class="layui-elem-quote layui-quote-nm"
			style="margin-top: 5%">新增表单</blockquote>
		<!-- <form class="layui-form "  id="ff" method="post" action="" style="padding-left:35% ;padding-right: 20%;padding-top: 5%">

            <div class="layui-form-item">
            <label class="layui-form-label">名称</label>

            <input id="tb1" type="text" style="width:300px">
        </div>
            <div class="layui-form-item" >
                <label class="layui-form-label">ContactKey</label>

                <input id="tb2" type="text" style="width:300px">
            </div>
            <div class="layui-form-item" > 
                <label class="layui-form-label">类型</label>

                <input id="tb3" type="text" style="width:300px">
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">输入框</label>

                <input id="tb4" type="text" style="width:300px">
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">文件上传</label>

                <input id="fb" type="text" style="width:300px">
            </div>
       <div class="layui-form-item">
            <div class="layui-input-block">
                <button class="layui-btn" lay-submit lay-filter="formDemo" onclick="$('#ff').submit();">立即提交</button>
                <button  class="layui-btn layui-btn-primary">返回</button>
            </div>
        </div>
    </form> -->

		<form action="../../tdu-base/ModelController/addModelOrView.action"
			method="post" id="createdepform">
			<!--enctype="multipart/form-data"  -->
			<div class="page-wrap">
				<div class="pt20 pb20">
					<input id="Id2" name="Id2" value="" style="display:none" /> <input
						id="id3" name="userId" value="" style="display:none" /> <input
						name="filePath" value="C:/wamp/www/quanzhouxuexiao/QZ/Photo/"
						style="display:none" />
					<table class="college_tb">
						<tbody>
							<tr>
								<th>名称:&nbsp;&nbsp;</th>
								<td><input type="text" name="Name" class="ulib-r3" value="" />
								</td>
							</tr>
							<tr hidden>
								<th>关系 :&nbsp;&nbsp;</th>
								<td><input type="text" name="modelOrView" class="ulib-r3"
									value="" /></td>
							</tr>
							<tr hidden>
								<th>类型 :&nbsp;&nbsp;</th>
								<td><input type="text" name="type" class="ulib-r3" value="" />
								</td>
							</tr>
							<!-- <tr>
                    <th>概图 :&nbsp;&nbsp;</th>
                    <td style="padding-bottom:15px;">
                        <input type="file" id="imgupload" data-options="prompt:'选择上传文件'" accept="image/*" name="file" style="width:50%;height:40px" />
                        <input type="hidden" id="Photo" name="photo"/>
                    </td>
                </tr> -->
						</tbody>
					</table>
				</div>
				<div style="text-align:center;">
					<a class="add-btn ulib-r3" href="javascript:"
						onclick=" $('#createdepform').submit();SaveCppObject2($('input[name=Id2]').val());">保存</a>
						<a class="add-btn ulib-r3" href="javascript:void(0);"
						style="margin-left:5%" onclick="fanhui()">返回</a>
				</div>
			</div>
		</form>


	</div>

	<div id="updateContent" style="" class="pt40 yahei">
		<blockquote class="layui-elem-quote layui-quote-nm"
			style="margin-top: 5%">更改表单</blockquote>
		<!-- <form class="layui-form "  id="uu" method="post" action="" style="padding-left:35% ;padding-right: 20%;padding-top: 5%;">

        <div class="layui-form-item">
            <label class="layui-form-label">输入框</label>

            <input id="uu1" type="text" style="width:300px">
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">输入框</label>

            <input id="uu2" type="text" style="width:300px">
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">输入框</label>

            <input id="uu3" type="text" style="width:300px">
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">输入框</label>

            <input id="uu4" type="text" style="width:300px">
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">文件上传</label>

            <input id="fb2" type="text" style="width:300px">
        </div>
       <div class="layui-form-item">
        <div class="layui-input-block">
            <button class="layui-btn" lay-submit lay-filter="formDemo">立即提交</button>
            <button  class="layui-btn layui-btn-primary">返回</button>
        </div>
    </div>
    </form> -->


		<form action="../../tdu-base/ModelController/updateModelOrView.action"
			method="post" id="updateform">
			<!--enctype="multipart/form-data"  -->
			<div class="page-wrap">
				<div class="pt20 pb20">
					<input id="Id" name="Id" value="" style="display:none" /> <input
						id="id3" name="userId" value="" style="display:none" /> <input
						name="filePath" value="C:/wamp/www/quanzhouxuexiao/QZ/Photo/"
						style="display:none" />
					<table class="college_tb">
						<tbody>
							<tr>
								<th>名称:&nbsp;&nbsp;</th>
								<td><input type="text" name="Name" class="ulib-r3" value="" />
								</td>
							</tr>
							<tr hidden>
								<th>关系 :&nbsp;&nbsp;</th>
								<td><input type="text" name="modelOrView" class="ulib-r3"
									value="" /></td>
							</tr>
							<tr hidden>
								<th>类型 :&nbsp;&nbsp;</th>
								<td><input type="text" name="type" class="ulib-r3" value="" />
								</td>
							</tr>
							<!-- <tr>
                    <th>概图 :&nbsp;&nbsp;</th>
                    <td style="padding-bottom:15px;">
                        <input type="file" id="imgupload" data-options="prompt:'选择上传文件'" accept="image/*" name="file" style="width:50%;height:40px" />
                        <input type="hidden" id="Photo" name="photo"/>
                    </td>
                </tr> -->
						</tbody>
					</table>
				</div>
				<div style="text-align:center;">
					<a class="add-btn ulib-r3" href="javascript:"
						onclick=" $('#updateform').submit();SaveCppObject2($('input[name=Id2]').val());">保存</a> 
						<a class="add-btn ulib-r3" href="javascript:void(0);"
						style="margin-left:5%" onclick="fanhui()">返回</a>
				</div>
			</div>
		</form>

	</div>



	<tfoot>

	</tfoot>
	<script>
		document.getElementById("addNew").style.display = "none";
		document.getElementById("showContent").style.display = "block";
		document.getElementById("updateContent").style.display = "none";
	
		/* $('#fb').filebox({
			buttonText : '选择文件',
			buttonAlign : 'right'
		})
		$('#tb1').textbox({
		})
		$('#tb2').textbox({
		})
		$('#tb3').textbox({
		})
		$('#tb4').textbox({
		})
	
	
		$('#uu1').textbox({
		})
		$('#uu2').textbox({
		})
		$('#uu3').textbox({
		})
		$('#uu4').textbox({
		})
		$('#fb2').filebox({
			buttonText : '选择文件',
			buttonAlign : 'right'
		}) */
	
		$('.pagelist').kkPages({
			PagesClass : '.item', //需要分页的元素
			PagesMth : 8, //每页显示个数
			PagesNavMth : 3 //显示导航个数
	
		});
		$('.newslist').kkPages({
			PagesClass : 'li', //需要分页的元素
			PagesMth : 5, //每页显示个数
			PagesNavMth : 5 //显示导航个数
		});
		function fanhui() {
			document.getElementById("addNew").style.display = "none";
			document.getElementById("showContent").style.display = "block";
			document.getElementById("updateContent").style.display = "none";
			$("input[name=Name]").val("");
		}
		function xinzeng() {
			console.log("新增")
			document.getElementById("addNew").style.display = "block";
			document.getElementById("showContent").style.display = "none";
			document.getElementById("updateContent").style.display = "none";
		}
		function updateModelOrView(id) {
			document.getElementById("addNew").style.display = "none";
			document.getElementById("showContent").style.display = "none";
			document.getElementById("updateContent").style.display = "block";
			console.log("修改" + "----" + id)
	
			$.ajax({
				url : "../../tdu-base/ModelController/getModel.action",
				data : {
					id : id
				},
				type : "post",
				async : false,
				success : function(data) {
					console.log(data)
					$("input[name=Id]").val(data.id);
					$("input[name=Name]").val(data.name);
					$("input[name=modelOrView]").val(data.contactKey);
					$("input[name=type]").val(data.type);
				}
			});
	
		}
	
		function deleteContent(id) {
			var flage = confirm("请确认是否删除")
			console.log(id)
			console.log($(flage))
			if (flage) {
				/* var cc = $(this ).parentNode.parentNode
				//cc.removeChild(obj.parentNode);
				cc.remove()
				console.log($(this ))
				console.log(cc) */
	
				$.ajax({
					url : "../../tdu-base/ModelController/delModel.action",
					data : {
						id : id
					},
					type : "post",
					async : false,
					success : function(data) {
						console.log(data)
						console.log($("#type").val())
						console.log($("#modelOrViewId").val())
						/*0是场景  1是模型*/
						if ($("#type").val() == "0" || $("#type").val() == "场景") {
							showView($("#modelOrViewId").val(), $("input[name=userId]").val())
						} else if ($("#type").val() == "1" || $("#type").val() == "模型") {
							showModel($("#modelOrViewId").val(), $("input[name=userId]").val())
						}
					}
				});
	
			}
		}
		//注意：导航 依赖 element 模块，否则无法进行功能性操作
		layui.use('element', function() {
			var element = layui.element;
	
		//…
		});
	</script>

</body>
</html>